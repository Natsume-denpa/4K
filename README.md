## 4K隠し画像メーカー 

https://natsume-denpa.github.io/4K/

縮小表示（スマホのタイムラインやプレビュー）では「ただのグレーのノイズ」に見え、
等倍表示（4Kモニターや拡大表示）した瞬間に絵柄が浮かび上がる画像を作成するWebツールです。

すべてブラウザ上で完結し、サーバーへのアップロードは行われません。

■ 特徴
----------------------------------------------------------------
1. 4Kアップスケーリング
   画像の短辺が必ず 4096px になるよう自動で超解像度化（リサイズ）します。

2. 特殊なピクセル処理
   - 画像部分：グレー (#7f7f7f) で描画
   - 背景部分：1px単位の「白黒ストライプ」を描画
   これにより、縮小時は色が混ざり合って均一なグレーに見え、
   拡大時はドットが分離して絵柄が見える視覚効果を生み出します。

3. モダンなUI
   スマホ・PC両対応。ダークモードベースで見やすく、ドラッグ＆ドロップにも対応しています。


■ 使い方
----------------------------------------------------------------
1. index.html をブラウザで開く
   特別なインストールは不要です。ファイルをダブルクリックするだけです。

2. 画像をアップロード
   「タップして画像を選択」またはドラッグ＆ドロップで読み込みます。

3. 調整
   - [2値化のしきい値]
     スライダーを動かして、絵柄が認識できるギリギリのラインを探してください。
   - [色を反転]
     元画像が「黒背景に白文字」などの場合に有効にして調整してください。

4. 保存
   「保存する」ボタンを押すと、高解像度のPNG画像がダウンロードされます。

5. 確認
   保存した画像を画像ビューアーで開き、「全体表示（縮小）」と
   「100%表示（拡大）」を切り替えて効果を楽しんでください。


■ 技術的な仕組み
----------------------------------------------------------------
このツールは Canvas API を使用してピクセル単位の操作を行っています。

1. リサイズ：入力画像を短辺4096pxのアスペクト比維持サイズに拡大。
2. 2値化判定：輝度を計算し、指定したしきい値で「黒」か「白」かを判定。
3. 合成処理：
   - 黒判定のピクセル -> RGB(127, 127, 127) （完全なグレー）に置き換え。
   - 白判定のピクセル -> 座標に基づき、偶数行は「黒」、奇数行は「白」のストライプ模様を描画。

<なぜ隠れるのか？>
縮小表示時は、「絵柄のグレー」と「背景の黒白ストライプ（混ざるとグレー）」が
平均化されて混ざり合うため、境界線が消滅し、全体がただの灰色に見えます。


■ 動作環境
----------------------------------------------------------------
- ブラウザ：最新の Google Chrome, Safari, Firefox, Edge
- デバイス：PC推奨（処理負荷が高いため）。
  ハイスペックなスマートフォンでも動作しますが、生成に数秒かかる場合があります。


■ 注意点
----------------------------------------------------------------
- 処理負荷
  4K（数千万ピクセル）の画像を扱うため、メモリを多く消費します。
  古い端末ではブラウザがクラッシュする可能性があります。

- 画像の圧縮
  Twitter(X)やLINEなどに投稿する場合、サービス側で「圧縮」や「リサイズ」が行われると、
  1px単位の模様が潰れて隠し絵効果が消えることがあります。
 ブラウザ版での 「PNG形式」かつ「オリジナルサイズ」でのアップロードを推奨します。


■ ライセンス
----------------------------------------------------------------
MIT License (またはご自由にお使いください)
